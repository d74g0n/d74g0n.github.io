var btcconn,firstUpdate=!1;function update_stamp_live_trades(a){parseFloat(a.amount);a=parseFloat(a.price).toFixed(2);document.getElementById("price").firstChild.nodeValue=a;document.title=a+" USD/BTC";firstUpdate=!0}function update_stamp_live_depth(a){document.getElementById("bid").firstChild.nodeValue="BID:$"+parseFloat(a.bids[0][0]).toFixed(2);document.getElementById("ask").firstChild.nodeValue="ASK:$"+parseFloat(a.asks[0][0]).toFixed(2)}
function setupsocketio(a){btcconn=io.connect("https://updates2.bitcointicker.co:8080",{secure:!0,"force new connection":!0});"bitstamp"==a&&(btcconn.emit("subscribe","bitstampUSDTicker"),pusher=new Pusher("de504dc5763aeef9ff52"),trades_channel=pusher.subscribe("live_trades"),trades_channel.bind("trade",update_stamp_live_trades),depth_channel=pusher.subscribe("order_book"),depth_channel.bind("data",update_stamp_live_depth));btcconn.on("message",function(a){switch(a.channel){case "bitstampUSDTicker":document.getElementById("high").firstChild.nodeValue=
"High:$"+a.ticker.high;document.getElementById("low").firstChild.nodeValue="LOW:$"+a.ticker.low;0==firstUpdate&&(document.title=a.ticker.last+" USD/BTC",document.getElementById("price").firstChild.nodeValue=a.ticker.last,firstUpdate=!0);break;case "btce":document.getElementById("high").firstChild.nodeValue="High:$"+a.ticker.high,document.getElementById("low").firstChild.nodeValue="LOW:$"+a.ticker.low,document.getElementById("price").firstChild.nodeValue=a.ticker.last,document.getElementById("bid").firstChild.nodeValue=
"BID:$"+a.ticker.bid,document.getElementById("ask").firstChild.nodeValue="ASK:$"+a.ticker.ask}})}setupsocketio("bitstamp");
